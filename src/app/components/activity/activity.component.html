<div class="p-m-4 p-d-block" style="max-width: 60%">

  <p-card>
    <p-table [value]="activities" *ngIf="currentUser.role !== 'ADMIN'">
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 30%">Lista zajęć</th>
          <th style="width: 70%"></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-activity>
        <tr>
          <td>{{activity.name}}</td>
          <td>{{activity.description}}</td>
        </tr>
      </ng-template>
    </p-table>


    <p-table [value]="activities" *ngIf="currentUser.role === 'ADMIN'">
      <ng-template pTemplate="header">
        <tr>
          <th style="width: 30%">Lista zajęć</th>
          <th style="width: 40%"></th>
          <th style="width: 30%"></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-activity>
        <tr>
          <td>{{activity.name}}</td>
          <td>{{activity.description}}</td>
          <td style="text-align: center">
            <button pButton pRipple icon="pi pi-trash" (click)="deleteActivityDialog(activity.idActivity)"
                    class="p-button-rounded p-button-warning" style="margin-right: 10px"></button>
            <button pButton pRipple type="button" icon="pi pi-pencil" (click)="editActivityDialog(activity.idActivity)"
                    class="p-button-rounded p-button-info"></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
    <button pButton pRipple type="button" label="Dodaj zajęcia" (click)="addNewActivityDialog()" *ngIf="currentUser.role === 'ADMIN'"
            class="p-button-raised p-button-success p-d-block p-mt-5" style="width: 220px"></button>
  </p-card>
</div>

<p-dialog header="Dodaj nowe zajęcia" [(visible)]="displayNewActivityDialog" [style]="{width: '50vw'}">

  <label class="p-d-block p-mb-1" for="name">Nazwa</label>
  <input id="name" class="p-mb-3" [(ngModel)]="activityTemp.name" pInputText/>

  <label class="p-d-block p-mb-1">Opis</label>
  <textarea [rows]="5" [cols]="30" [(ngModel)]="activityTemp.description" pInputTextarea class="p-mb-3"></textarea>

  <button pButton pRipple type="button" label="Zapisz" (click)="addActivity()"
          class="p-button-raised p-button-success p-d-block p-mt-5" style="width: 220px"></button>

</p-dialog>


<p-dialog header="Edytuj zajęcia" [(visible)]="displayEditActivityDialog" [style]="{width: '50vw'}">

  <label class="p-d-block p-mb-1" for="name">Nazwa</label>
  <input id="name" class="p-mb-3" [(ngModel)]="activityTemp.name" pInputText/>

  <label class="p-d-block p-mb-1">Opis</label>
  <textarea [rows]="5" [cols]="30" [(ngModel)]="activityTemp.description" pInputTextarea class="p-mb-3"></textarea>

  <button pButton pRipple type="button" label="Zapisz" (click)="updateActivity(activityTemp.idActivity)"
          class="p-button-raised p-button-success p-d-block p-mt-5" style="width: 220px"></button>

</p-dialog>

<p-dialog header="Usuń zajęcia" [(visible)]="displayDeleteActivityDialog" [style]="{width: '50vw'}">

  <label class="p-d-block p-mb-1">Czy na pewno chcesz usunąć zajęcia {{activityTemp.name}}?</label>

  <button pButton pRipple type="button" label="Usuń" (click)="deleteActivityById(activityTemp.idActivity)"
          class="p-button-raised p-button-success p-d-block p-mt-5" style="width: 220px"></button>

</p-dialog>


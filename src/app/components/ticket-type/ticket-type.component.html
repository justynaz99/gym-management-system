<div class="p-m-4 p-d-block" style="max-width: 100em">
  <p-card>

    <!--    <p-orderList [value]="ticketTypes" [listStyle]="{'max-height':'30rem'}" header="Lista karnetów"  [dragdrop]="true" controlsPosition="right">-->
    <!--      <ng-template let-ticket pTemplate="item">-->
    <!--        <div class="product-item">-->

    <!--          <div class="product-list-detail">-->
    <!--            <h3 class="p-mb-2">{{ticket.name}}</h3>-->
    <!--            <i class="pi pi-check product-category-icon"></i>-->
    <!--            <span class="product-category ">{{ticket.description}}</span>-->
    <!--          </div>-->
    <!--          <div class="product-list-action">-->
    <!--            <h3 class="p-mb-2">{{ticket.price}} zł</h3>-->
    <!--            <td><button pButton pRipple type="button" label="Kup" class="p-button-raised"></button></td>-->
    <!--          </div>-->
    <!--        </div>-->
    <!--      </ng-template>-->
    <!--    </p-orderList>-->

    <p-table [value]="ticketTypes">
      <ng-template pTemplate="header">
        <tr>
          <th>Lista karnetów</th>
          <th style="width: 30%"></th>
          <th></th>
          <th></th>
          <!--          <th ></th>-->
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-ticketType>
        <tr>
          <td>{{ticketType.name}}</td>
          <td>{{ticketType.description}}</td>
          <td style="text-align: center">{{ticketType.price}} zł</td>
          <td>
            <button pButton pRipple *ngIf="currentUser.role === 'USER'"
                    type="button" label="Kup" class="p-button-raised" (click)="buyTicket()"></button>

            <!--  Admin buttons -->
            <button pButton pRipple *ngIf="currentUser.role === 'ADMIN'" (click)="deleteTicketDialog(ticketType.idType)"
                    icon="pi pi-trash" class="p-button-rounded p-button-warning" style="margin-right: 10px"></button>
            <button pButton pRipple type="button" *ngIf="currentUser.role === 'ADMIN'" (click)="editTicketDialog(ticketType.idType)"
                    icon="pi pi-pencil" class="p-button-rounded p-button-info"></button>
          </td>
          <!--          -->
        </tr>
      </ng-template>
    </p-table>
    <!--  Admin button  -->
    <button pButton pRipple type="button" label="Dodaj karnet" *ngIf="currentUser.role === 'ADMIN'"
            (click)="addNewTicketDialog()"
            class="p-button-raised p-button-success p-d-block p-mt-5" style="width: 220px"></button>
    <!--         -->


  </p-card>


</div>

<p-dialog header="Dodaj nowy karnet" [(visible)]="displayNewTicketDialog" [style]="{width: '50vw'}">

  <label class="p-d-block p-mb-1" for="name">Nazwa</label>
  <input id="name" class="p-mb-3" [(ngModel)]="ticketTypeTemp.name" pInputText/>

  <label class="p-d-block p-mb-1" for="price">Cena</label>
  <input id="price" class="p-mb-3" [(ngModel)]="ticketTypeTemp.price" pInputText/>

  <label class="p-d-block p-mb-1">Opis</label>
  <textarea [rows]="5" [cols]="30" [(ngModel)]="ticketTypeTemp.description" pInputTextarea class="p-mb-3"></textarea>

  <button pButton pRipple type="button" label="Zapisz" (click)="addTicketType()"
          class="p-button-raised p-button-success p-d-block p-mt-5" style="width: 220px"></button>

</p-dialog>


<p-dialog header="Edytuj karnet" [(visible)]="displayEditTicketDialog" [style]="{width: '50vw'}">

  <label class="p-d-block p-mb-1" for="name">Nazwa</label>
  <input id="name" class="p-mb-3" [(ngModel)]="ticketTypeTemp.name" pInputText/>

  <label class="p-d-block p-mb-1" for="price">Cena</label>
  <input id="price" class="p-mb-3" [(ngModel)]="ticketTypeTemp.price" pInputText/>

  <label class="p-d-block p-mb-1">Opis</label>
  <textarea [rows]="5" [cols]="30" [(ngModel)]="ticketTypeTemp.description" pInputTextarea class="p-mb-3"></textarea>

  <button pButton pRipple type="button" label="Zapisz" (click)="updateTicketType(ticketTypeTemp.idType)"
          class="p-button-raised p-button-success p-d-block p-mt-5" style="width: 220px"></button>

</p-dialog>

<p-dialog header="Usuń karnet" [(visible)]="displayDeleteTicketDialog" [style]="{width: '50vw'}">

  <label class="p-d-block p-mb-1">Czy na pewno chcesz usunąć karnet {{ticketTypeTemp.name}}?</label>

  <button pButton pRipple type="button" label="Usuń" (click)="deleteTicketTypeById(ticketTypeTemp.idType)"
          class="p-button-raised p-button-success p-d-block p-mt-5" style="width: 220px"></button>

</p-dialog>








